@use "sass:list";

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family:
    -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica,
    Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji';
  line-height: 1.5;
  font-weight: 400;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 全局深灰黑色主题（接近黑色） */
body {
  @apply bg-black text-gray-100;
}

/* 浅色模式下的浅色主题 */
.light body {
  @apply bg-gray-50 text-gray-900;
}

/* 仅在深色模式下覆盖白色背景，浅色模式保持纯白 */
.dark .bg-white {
  background-color: #111827 !important; /* gray-900 */
}

.light .bg-white {
  background-color: #ffffff !important;
}

/* 渐变背景覆盖 */
.bg-gradient-to-br {
  @apply bg-black !important;
}

.light .bg-gradient-to-br {
  background: inherit !important;
}

.from-gray-50 {
  @apply from-gray-900 !important;
}

.via-blue-50 {
  @apply via-gray-800 !important;
}

.to-purple-50 {
  @apply to-gray-700 !important;
}

.light .from-gray-50 {
  --tw-gradient-from: #f9fafb !important;
  --tw-gradient-to: rgb(249 250 251 / 0) !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.light .via-blue-50 {
  --tw-gradient-to: rgb(239 246 255 / 0) !important;
  --tw-gradient-stops: var(--tw-gradient-from), #eff6ff, var(--tw-gradient-to) !important;
}

.light .to-purple-50 {
  --tw-gradient-to: #faf5ff !important;
}

.light .to-blue-50 {
  --tw-gradient-to: #eff6ff !important;
}

.dark\:bg-white\/10 {
  @apply bg-gray-700/20 !important;
}

.dark\:bg-white\/5 {
  @apply bg-gray-700/10 !important;
}

/* 文字颜色调整 - 深色模式优先 */
.dark .text-gray-900 {
  @apply text-gray-100 !important;
}

.dark .text-gray-700 {
  @apply text-gray-300 !important;
}

.dark\:text-white {
  @apply text-gray-100 !important;
}

.dark\:text-gray-200 {
  @apply text-gray-300 !important;
}

/* 边框颜色调整 - 浅色模式下边框更柔和 */
.border-gray-300\/40 {
  @apply border-gray-600/40 !important;
}

.light .border-gray-300\/40 {
  @apply border-gray-400/20 !important;
}

.dark\:border-white\/20 {
  @apply border-gray-600/30 !important;
}

.dark\:border-white\/30 {
  @apply border-gray-500/40 !important;
}

/* 背景模糊效果调整 */
.bg-white\/30 {
  background-color: rgba(17, 24, 39, 0.3) !important;
}

.light .bg-white\/30 {
  background-color: rgba(255, 255, 255, 0.3) !important;
}

.bg-white\/20 {
  background-color: rgba(17, 24, 39, 0.2) !important;
}

.light .bg-white\/20 {
  background-color: rgba(255, 255, 255, 0.2) !important;
}

.dark\:bg-black\/10 {
  @apply bg-black/20 !important;
}

/* 浅色模式优化 - 保持浅色但增强对比度 */
:root:not(.dark) {
  /* 保持浅色背景但稍微加深以提供更好的对比度 */
}

/* 浅色模式下的特定优化 */
:root:not(.dark) .bg-gradient-to-br.from-gray-50.via-blue-50.to-purple-50 {
  background: linear-gradient(to bottom right, #f8fafc, #f1f5f9, #e2e8f0) !important;
}

/* 确保文字在浅色背景下有足够对比度 */
:root:not(.dark) .text-gray-600 {
  color: #374151 !important;
}

:root:not(.dark) .text-gray-500 {
  color: #4b5563 !important;
}

:root:not(.dark) .text-gray-700 {
  color: #374151 !important;
}

:root:not(.dark) .text-gray-900 {
  color: #111827 !important;
}

/* 导航栏在浅色模式下优化对比度 */
:root:not(.dark) .bg-white\/70 {
  background-color: rgba(255, 255, 255, 0.95) !important;
}

/* 页脚在浅色模式下优化对比度 */
:root:not(.dark) .bg-white\/60 {
  background-color: rgba(255, 255, 255, 0.9) !important;
}

/* 十年之约背景在浅色模式下调整亮度 */
:root:not(.dark) .bg-gray-50 {
  background-color: #e5e7eb !important;
}

/* 首页背景在浅色模式下使用浅色渐变 */
:root:not(.dark) .bg-gradient-to-br.from-gray-100.via-gray-200.to-gray-300 {
  background: linear-gradient(to bottom right, #f7fafc, #edf2f7, #e2e8f0) !important;
}

/* 十年之约组件在浅色模式下的完整样式重写 */
:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 {
  background: linear-gradient(to right, rgba(248, 250, 252, 0.95), rgba(241, 245, 249, 0.95)) !important;
  border: 1px solid rgba(203, 213, 225, 0.6) !important;
}

/* 十年之约组件内的文字颜色调整 */
:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 .text-white {
  color: #1e293b !important;
}

:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 .text-slate-100 {
  color: #475569 !important;
}

/* Admin common styles */
.page-content {
  animation: fadeIn 0.3s ease;
  flex: 1;
  display: flex;
  flex-direction: column;
}

.page-header {
  margin-bottom: 0px;
}

.page-title {
  font-size: 28px;
  font-weight: 700;
  color: #1f2937;
  margin: 0 0 8px 0;
}

.page-subtitle {
  font-size: 14px;
  color: #9ca3af;
  margin: 0;
}

.pagination {
  display: flex;
  justify-content: flex-end;
  margin-top: 16px;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 .text-slate-200 {
  color: #64748b !important;
}

:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 .text-slate-300 {
  color: #64748b !important;
}

:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 .text-white\/90 {
  color: #334155 !important;
}

:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 .text-amber-200 {
  color: #d97706 !important;
}

/* 十年之约组件内的背景元素调整 */
:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 .bg-white\/30 {
  background-color: rgba(148, 163, 184, 0.3) !important;
}

:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 .bg-white\/20 {
  background-color: rgba(148, 163, 184, 0.2) !important;
}

:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 .border-white\/50 {
  border-color: rgba(148, 163, 184, 0.5) !important;
}

:root:not(.dark) .bg-gradient-to-r.from-slate-600\/80.to-stone-700\/80 .border-white\/30 {
  border-color: rgba(148, 163, 184, 0.3) !important;
}

/* 首页背景修复 - 确保HomeView使用正确的背景 */
:root:not(.dark) .bg-black {
  background-color: #f9fafb !important;
}

/* 修复浅色模式下页面背景 */
:root:not(.dark) .bg-gradient-to-br {
  background: linear-gradient(to bottom right, var(--tw-gradient-stops)) !important;
}

/* 通用卡片组件浅色模式优化 */
:root:not(.dark) .bg-white\/60 {
  background-color: rgba(255, 255, 255, 0.6) !important;
}

:root:not(.dark) .bg-white\/10 {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* 卡片边框在浅色模式下的优化 - 更柔和的边框 */
:root:not(.dark) .border-white\/20 {
  border-color: rgba(203, 213, 225, 0.2) !important;
}

/* 十年之约section背景优化 */
:root:not(.dark) .bg-gray-800 {
  background-color: #f8fafc !important;
}

/* 项目卡片技术标签在浅色模式下的优化 */
:root:not(.dark) .bg-gray-200\/60 {
  background-color: rgba(229, 231, 235, 0.6) !important;
}

:root:not(.dark) .text-gray-800 {
  color: #1f2937 !important;
}

/* 兴趣爱好标签在浅色模式下的优化 */
:root:not(.dark) .bg-white\/40 {
  background-color: rgba(255, 255, 255, 0.4) !important;
}

:root:not(.dark) .bg-white\/5 {
  background-color: rgba(255, 255, 255, 0.05) !important;
}

/* 标签边框在浅色模式下的优化 - 更柔和的边框 */
:root:not(.dark) .border-gray-300\/30 {
  border-color: rgba(75, 85, 99, 0.3) !important;
}

:root:not(.dark) .border-gray-600\/30 {
  border-color: rgba(75, 85, 99, 0.3) !important;
}

:root:not(.dark) .border-gray-200\/30 {
  border-color: rgba(75, 85, 99, 0.3) !important;
}

:root:not(.dark) .border-white\/10 {
  border-color: rgba(75, 85, 99, 0.3) !important;
}

/* 网站卡片技术标签在浅色模式下的优化 - 已在上面定义 */

/* 标签边框在浅色模式下的进一步优化 - 更柔和的边框 */
:root:not(.dark) .border-gray-300\/40 {
  border-color: rgba(75, 85, 99, 0.25) !important;
}

:root:not(.dark) .border-white\/30 {
  border-color: rgba(75, 85, 99, 0.25) !important;
}

/* 修复首页顶部GitHub和Blog按钮在浅色模式下过黑的问题 */
:root:not(.dark) .inline-flex.items-center.px-4.py-2.text-sm.font-medium.text-gray-900 {
  color: #374151 !important;
  background-color: rgba(255, 255, 255, 0.7) !important;
  border-color: rgba(209, 213, 219, 0.5) !important;
}

:root:not(.dark) .inline-flex.items-center.px-4.py-2.text-sm.font-medium.text-gray-900:hover {
  color: #1f2937 !important;
  background-color: rgba(255, 255, 255, 0.9) !important;
  border-color: rgba(156, 163, 175, 0.6) !important;
}

/* 修复文章和关于页面在浅色模式下的深色元素问题 */
/* 这些样式已在上面定义，删除重复 */

/* 修复文章分类标签 - 更柔和的边框 */
:root:not(.dark) .bg-blue-200\/60 {
  background-color: rgba(219, 234, 254, 0.8) !important;
}

:root:not(.dark) .text-blue-800 {
  color: #1e40af !important;
}

:root:not(.dark) .border-blue-300\/30 {
  border-color: rgba(147, 197, 253, 0.3) !important;
}

/* 浅色模式下悬停边框优化 */
:root:not(.dark) .hover\:border-gray-400\/50:hover {
  border-color: rgba(156, 163, 175, 0.25) !important;
}

:root:not(.dark) .hover\:border-white\/30:hover {
  border-color: rgba(203, 213, 225, 0.25) !important;
}

/* 浅色模式下通用边框透明度降低 */
:root:not(.dark) .border-gray-200 {
  border-color: rgba(229, 231, 235, 0.6) !important;
}

:root:not(.dark) .border-gray-300 {
  border-color: rgba(209, 213, 219, 0.5) !important;
}

//留言板

// 颜色变量
$color-primary: #3b82f6;
$color-primary-dark: #2563eb;
$color-text-dark: #1f2937;
$color-text-light: rgba(255, 255, 255, 0.95);
$color-text-gray: #6b7280;
$color-text-gray-light: #9ca3af;
$color-text-gray-dark: #4b5563;
$color-border: #e5e7eb;
$color-bg-light: #f9fafb;
$color-bg-dark: #1f2937;
$color-bg-darker: #111827;

$color-dark-border: #374151;
$color-dark-border-light: #4b5563;
$color-dark-text: #d1d5db;
$color-dark-text-light: #6b7280;
$color-dark-text-lighter: #f3f4f6;

// 便签颜色
$note-colors: (
	0: (
		#fef3c7,
		#fde68a,
		#92400e,
		#78350f,
	),
	1: (
		#fce7f3,
		#fbcfe8,
		#831843,
		#500724,
	),
	2: (
		#cffafe,
		#a5f3fc,
		#164e63,
		#0e3a47,
	),
	3: (
		#c7d2fe,
		#a5b4fc,
		#312e81,
		#1e1b4b,
	),
	4: (
		#d1fae5,
		#a7f3d0,
		#064e3b,
		#042f2e,
	),
);

// 间距变量
$spacing-xs: 12px;
$spacing-sm: 16px;
$spacing-md: 20px;
$spacing-lg: 24px;
$spacing-xl: 32px;
$spacing-2xl: 48px;
$spacing-3xl: 80px;

// 圆角变量
$radius-sm: 6px;
$radius-md: 8px;
$radius-lg: 12px;
$radius-xl: 16px;

// 字体大小
$font-xs: 12px;
$font-sm: 14px;
$font-base: 15px;
$font-lg: 16px;
$font-xl: 18px;
$font-2xl: 20px;
$font-3xl: 28px;
$font-4xl: 36px;

/* Sponsor theme overrides */
.dark .sponsor-page .sponsor-card {
  background: rgba(17, 24, 39, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.dark .sponsor-page .title {
  color: rgba(255, 255, 255, 0.95);
}

.dark .sponsor-page .subtitle {
  color: rgba(255, 255, 255, 0.6);
}

.dark .sponsor-page .qr-card {
  background: #1f2937;
  border: 1px solid #374151;
}

.dark .sponsor-page .qr-card h3 {
  color: white;
}

.dark .sponsor-page .qr-placeholder {
  background: #374151;
  border: 1px solid #4b5563;
}

.dark .sponsor-page .qr-description {
  color: rgba(255, 255, 255, 0.7);
}

.dark .sponsor-page .afdian-link {
  background: #374151;
  color: #f9fafb;
  border: 1px solid #4b5563;
}

.dark .sponsor-page .afdian-link:hover {
  background: #4b5563;
}

.dark .sponsor-page .notice {
  background: #1e293b;
  border: 1px solid #334155;
  color: #cbd5e1;
}

.dark .sponsor-page .notice-text {
  color: #cbd5e1;
}

.dark .sponsor-page .notice-text strong {
  color: #f87171;
}

.dark .sponsor-page .email {
  color: #93c5fd;
  background: #334155;
}

.dark .sponsor-page .email:hover {
  background: #475569;
}

.dark .sponsor-page .sponsors-table h2 {
  color: white;
}

.dark .sponsor-page .sponsors-table table {
  background: #111827;
  border: 1px solid #374151;
}

.dark .sponsor-page .sponsors-table th,
.dark .sponsor-page .sponsors-table td {
  border-bottom: 1px solid #374151;
}

.dark .sponsor-page .sponsors-table th {
  background: #1f2937;
  color: #f3f4f6;
}

.dark .sponsor-page .sponsors-table td {
  color: #d1d5db;
}

.dark .sponsor-page .sponsors-table tbody tr:hover {
  background: #1f2937;
}

/* Guestbook theme overrides */
.dark .guestbook-page .guestbook-card {
  background: rgba(17, 24, 39, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.dark .guestbook-page .title {
  color: $color-text-light;
}

.dark .guestbook-page .subtitle {
  color: rgba(255, 255, 255, 0.6);
}

.dark .guestbook-page .message-form-section {
  background: $color-bg-dark;
  border: 1px solid $color-dark-border;
}

.dark .guestbook-page .message-form {
  --el-border-color: #374151;
  --el-text-color-regular: #d1d5db;
}

.dark .guestbook-page .section-title {
  color: white;
  border-bottom-color: $color-dark-border;
}

.dark .guestbook-page .form-label {
  color: $color-dark-text;
}

.dark .guestbook-page .form-input,
.dark .guestbook-page .form-textarea {
  background: $color-bg-darker;
  border-color: $color-dark-border-light;
  color: $color-dark-text-lighter;
}

.dark .guestbook-page .form-input:focus,
.dark .guestbook-page .form-textarea:focus {
  border-color: #60a5fa;
}

.dark .guestbook-page .empty-state {
  color: $color-dark-text-light;
}

.dark .guestbook-page .message-item:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

@each $index, $colors in $note-colors {
  $dark-start: list.nth($colors, 3);
  $dark-end: list.nth($colors, 4);

  .dark .guestbook-page .message-item.note-color-#{$index} {
    background: linear-gradient(135deg, $dark-start 0%, $dark-end 100%);
  }
}

.dark .guestbook-page .meta-badge {
  background: rgba(16, 185, 129, 0.2);
  color: #34d399;
}

.dark .guestbook-page .meta-chip {
  background: rgba(255, 255, 255, 0.05);
  color: $color-dark-text;
  border-color: rgba(255, 255, 255, 0.08);
}

.dark .guestbook-page .user-name {
  color: white;
}

.dark .guestbook-page .message-time {
  color: $color-dark-text-light;
}

.dark .guestbook-page .website-link {
  background: $color-dark-border;
  color: $color-dark-text;
}

.dark .guestbook-page .website-link:hover {
  background: $color-dark-border-light;
  color: $color-dark-text-lighter;
}

.dark .guestbook-page .message-content {
  color: $color-dark-text;
}

.dark .guestbook-page .loading-state {
  color: $color-dark-text-light;
}

.dark .guestbook-page .spinner {
  border-color: $color-dark-border;
  border-top-color: #60a5fa;
}

.dark .guestbook-page .load-more-hint {
  color: $color-dark-text-light;
}

.dark .guestbook-page .no-more-state {
  color: $color-dark-text-light;
}
