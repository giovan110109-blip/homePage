# Decanter - ä¸ªäººä¸»é¡µé¡¹ç›®

ä¸€ä¸ªç°ä»£åŒ–çš„å…¨æ ˆä¸ªäººä¸»é¡µå¹³å°ï¼Œé›†æˆäº†å¤šç§äº’åŠ¨åŠŸèƒ½ï¼Œä¸ºä¸ªäººå“ç‰Œå±•ç¤ºå’Œç”¨æˆ·äº¤äº’æä¾›äº†å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚

## é¡¹ç›®ç®€ä»‹

Decanter æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ä¸ªäººä¸»é¡µåº”ç”¨ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ¶æ„ã€‚é¡¹ç›®åŒ…å«ä¸€ä¸ªåŸºäº Vue 3 + TypeScript + Tailwind CSS çš„ç°ä»£åŒ–å‰ç«¯ï¼Œä»¥åŠä¸€ä¸ªåŸºäº Koa.js + MongoDB çš„é«˜æ•ˆåç«¯æœåŠ¡ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### å‰ç«¯åŠŸèƒ½
- **ä¸ªäººä¸»é¡µå±•ç¤º** - ä¼˜ç¾çš„ä¸»é¡µè®¾è®¡ï¼Œå±•ç¤ºä¸ªäººä¿¡æ¯å’Œç¤¾äº¤é“¾æ¥
- **å‹æƒ…é“¾æ¥** - ç®¡ç†å’Œå±•ç¤ºå‹æƒ…é“¾æ¥åˆ—è¡¨
- **ç•™è¨€æ¿** - ç”¨æˆ·å¯ä»¥ç•™è¨€ï¼Œæ”¯æŒè¡¨æƒ…ååº”
- **å…³äºé¡µé¢** - ä¸ªäººä»‹ç»å’ŒèƒŒæ™¯æ•…äº‹
- **èµåŠ©æ”¯æŒ** - å±•ç¤ºèµåŠ©æ–¹å¼å’Œæ”¯æŒè€…
- **ç½‘ç«™çŠ¶æ€** - å®æ—¶æ˜¾ç¤ºç½‘ç«™å’ŒæœåŠ¡çŠ¶æ€
- **ç®¡ç†åå°** - å†…å®¹ç®¡ç†å’Œæ•°æ®ç»Ÿè®¡

### åç«¯åŠŸèƒ½
- **ç”¨æˆ·è®¤è¯** - ç®¡ç†å‘˜èº«ä»½éªŒè¯å’Œæƒé™ç®¡ç†
- **æ•°æ®ç®¡ç†** - å‹æƒ…é“¾æ¥ã€ç•™è¨€ã€èµåŠ©ç­‰æ•°æ®çš„ CRUD æ“ä½œ
- **è®¿é—®æ—¥å¿—** - è®°å½•å’Œåˆ†æç½‘ç«™è®¿é—®æƒ…å†µ
- **ç›‘æ§æœåŠ¡** - ç½‘ç«™å’Œç›¸å…³æœåŠ¡çš„å¥åº·ç›‘æ§
- **æ–‡ä»¶ä¸Šä¼ ** - æ”¯æŒå¤´åƒç­‰èµ„æºä¸Šä¼ 
- **é€Ÿç‡é™åˆ¶** - é˜²æ­¢æ»¥ç”¨å’Œ DDoS æ”»å‡»

## é¡¹ç›®æ¶æ„

```
homePage/
â”œâ”€â”€ client/                 # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/    # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ composables/   # å¯å¤ç”¨é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ stores/        # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ api/           # API è¯·æ±‚
â”‚   â”‚   â”œâ”€â”€ types/         # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ packages/          # å·¥ä½œåŒºåŒ…
â”‚   â”‚   â””â”€â”€ webgl-image/   # WebGL å›¾åƒå¤„ç†åº“
â”‚   â””â”€â”€ vite.config.ts     # Vite é…ç½®
â”‚
â”œâ”€â”€ server/                # åç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/   # ä¸šåŠ¡é€»è¾‘æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ models/        # MongoDB æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/      # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ routes/        # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ middleware/    # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ config/        # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ scripts/       # è„šæœ¬å·¥å…·
â”‚   â””â”€â”€ app.js             # åº”ç”¨å…¥å£
â”‚
â””â”€â”€ docker-compose.yml     # Docker ç¼–æ’é…ç½®
```

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Vue 3
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS + SCSS
- **æ„å»º**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia
- **UI ç»„ä»¶**: Element Plus
- **åŠ¨ç”»**: GSAPã€Canvas Confetti
- **HTTP å®¢æˆ·ç«¯**: Axios
- **å›¾è¡¨**: è‡ªå®šä¹‰ WebGL å®ç°

### åç«¯
- **è¿è¡Œæ—¶**: Node.js
- **æ¡†æ¶**: Koa.js
- **æ•°æ®åº“**: MongoDB
- **ORM**: Mongoose
- **å¼€å‘å·¥å…·**: Nodemon

### å·¥å…·é“¾
- **åŒ…ç®¡ç†**: pnpm (Monorepo)
- **å®¹å™¨åŒ–**: Docker & Docker Compose
- **éƒ¨ç½²**: Vercel (å‰ç«¯)
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **æäº¤è§„èŒƒ**: Commitlint + Commitizen

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- pnpm >= 8.0.0
- MongoDB (å¯é€‰ï¼Œä½¿ç”¨ Docker)

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm i

# æˆ–åˆ†åˆ«å®‰è£…å‰åç«¯
cd client && pnpm i
cd ../server && pnpm i
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd client
pnpm dev

# åœ¨æ–°çš„ç»ˆç«¯ä¸­å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨
cd server
pnpm dev

# æˆ–åŒæ—¶å¯åŠ¨å‰åç«¯
cd client
pnpm dev:s
```

### ç”Ÿäº§æ„å»º

```bash
# æ„å»ºå‰ç«¯
cd client
pnpm build

# å¯åŠ¨åç«¯ç”Ÿäº§ç¯å¢ƒ
cd server
pnpm start:prod
```

### Docker éƒ¨ç½²

```bash
# ä½¿ç”¨ Docker Compose å¯åŠ¨æ•´ä¸ªé¡¹ç›®
docker-compose up -d
```

## ç¯å¢ƒé…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæˆ–ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# ========================================
# å‰ç«¯ç¯å¢ƒå˜é‡ (Client)
# ========================================
VITE_SITE_TITLE="Decanter"
VITE_SITE_DESCRIPTION="Personal site built with Vue + Vite"
VITE_API_BASE_URL="https://serve.giovan.cn"
VITE_API_BASE_URL_LOCAL="http://localhost:8998"
VITE_ENABLE_MOCK=false
VITE_ENABLE_ANALYTICS=false

# ========================================
# åç«¯ç¯å¢ƒå˜é‡ (Server)
# ========================================
PORT=8998
NODE_ENV=development
SKIP_DB=false

# ========================================
# MongoDB æ•°æ®åº“é…ç½®
# ========================================
MONGODB_URI=mongodb://admin:password@host:27017/database?authSource=admin

# ========================================
# æ–‡ä»¶ä¸Šä¼ é…ç½®
# ========================================
# ä¸Šä¼ æ–‡ä»¶ä¿å­˜çš„æœ¬åœ°ç›®å½•ï¼ˆæ”¯æŒç»å¯¹è·¯å¾„ï¼Œå¦‚å¤–æ¥ç¡¬ç›˜è·¯å¾„ï¼‰
UPLOAD_DIR="/Volumes/å¤§é‡‘åˆš/uploads"

# å¯¹å¤–æš´éœ²çš„ä¸Šä¼ æ–‡ä»¶è®¿é—®å‰ç¼€
UPLOAD_BASE_URL="/uploads"
```

### ä¸Šä¼ ç›®å½•é…ç½®

ä¸Šä¼ åŠŸèƒ½æ”¯æŒä»¥ä¸‹é…ç½®æ–¹å¼ï¼š

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|-------|------|--------|
| `UPLOAD_DIR` | æ–‡ä»¶ä¿å­˜ç›®å½•ï¼ˆæ”¯æŒå¤–æ¥ç¡¬ç›˜ã€ç½‘ç»œè·¯å¾„ç­‰ï¼‰ | `./uploads`ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰ |
| `UPLOAD_BASE_URL` | æ–‡ä»¶è®¿é—®å‰ç¼€ï¼ˆæµè§ˆå™¨è®¿é—®æ—¶çš„è·¯å¾„ï¼‰ | `/uploads` |

#### é…ç½®ç¤ºä¾‹

**å­˜å‚¨åˆ°å¤–æ¥ç¡¬ç›˜ï¼š**
```env
UPLOAD_DIR="/Volumes/å¤§é‡‘åˆš/uploads"
UPLOAD_BASE_URL="/uploads"
```

**å­˜å‚¨åˆ°è‡ªå®šä¹‰ç›®å½•ï¼š**
```env
UPLOAD_DIR="/data/uploads"
UPLOAD_BASE_URL="/uploads"
```

**Docker éƒ¨ç½²ï¼ˆæŒ‚è½½å·ï¼‰ï¼š**
```env
UPLOAD_DIR="/app/uploads"
UPLOAD_BASE_URL="/uploads"
```

åœ¨ `docker-compose.yml` ä¸­é…ç½®å·æŒ‚è½½ï¼š
```yaml
services:
  server:
    volumes:
      - /Volumes/å¤§é‡‘åˆš/uploads:/app/uploads
```

## ä¸»è¦é¡µé¢

| é¡µé¢ | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|--------|
| ä¸»é¡µ | `/` | ä¸ªäººä¿¡æ¯å±•ç¤ºå’Œç¤¾äº¤é“¾æ¥ |
| å…³äº | `/about` | ä¸ªäººç®€ä»‹å’ŒèƒŒæ™¯ |
| å‹æƒ…é“¾æ¥ | `/friend-links` | ç®¡ç†å’Œå±•ç¤ºå‹æƒ…é“¾æ¥ |
| ç•™è¨€æ¿ | `/guestbook` | ç”¨æˆ·ç•™è¨€å’Œäº’åŠ¨ |
| èµåŠ© | `/sponsor` | èµåŠ©æ–¹å¼å±•ç¤º |
| ç½‘ç«™çŠ¶æ€ | `/status` | æœåŠ¡å¥åº·ç›‘æ§ |
| ç®¡ç†åå° | `/admin` | å†…å®¹ç®¡ç†ç³»ç»Ÿ |

## æ–‡ä»¶è¯´æ˜

### é…ç½®æ–‡ä»¶
- `commitlint.config.js` - Commit æäº¤è§„èŒƒé…ç½®
- `docker-compose.yml` - Docker å®¹å™¨ç¼–æ’é…ç½®
- `package.json` - æ ¹é¡¹ç›®é…ç½®ï¼ˆMonorepoï¼‰

### Docker ç›¸å…³
- `README.docker.md` - Docker éƒ¨ç½²æŒ‡å—

## ä»£ç è§„èŒƒ

### æäº¤è§„èŒƒ
æœ¬é¡¹ç›®ä½¿ç”¨ Commitlint + Commitizen è§„èŒƒæäº¤ä¿¡æ¯ï¼š

```bash
# ä½¿ç”¨äº¤äº’å¼æäº¤
pnpm commit
```

### ä»£ç æ£€æŸ¥
```bash
# æ£€æŸ¥ä»£ç 
cd client
pnpm check

# ä¿®å¤ ESLint é—®é¢˜
pnpm lint:fix
```

## é¡¹ç›®ç‰¹è‰²

âœ¨ **ç°ä»£åŒ–è®¾è®¡** - å“åº”å¼è®¾è®¡ï¼Œé€‚é…å„ç§è®¾å¤‡  
âš¡ **é«˜æ€§èƒ½** - ä½¿ç”¨ Vite ä¼˜åŒ–æ„å»ºï¼ŒGSAP æµç•…åŠ¨ç”»  
ğŸ”’ **å®‰å…¨æ€§** - ç®¡ç†å‘˜è®¤è¯ã€é€Ÿç‡é™åˆ¶ã€è¾“å…¥éªŒè¯  
ğŸ“Š **æ•°æ®ç›‘æ§** - å®Œæ•´çš„è®¿é—®æ—¥å¿—å’Œç½‘ç«™ç›‘æ§  
ğŸ¨ **è‡ªå®šä¹‰** - ä¸»é¢˜æ”¯æŒã€WebGL å›¾åƒå¤„ç†  
ğŸš€ **æ˜“äºéƒ¨ç½²** - æ”¯æŒ Dockerã€Vercelã€è‡ªæ‰˜ç®¡  

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT

## è”ç³»æ–¹å¼

- ğŸ“§ é‚®ç®±ï¼š14945447@qq.com
- ğŸ’¬ å¾®ä¿¡ï¼š14945447
- ğŸ“ åœ°ç‚¹ï¼šä¸­å›½Â·å››å·Â·æˆéƒ½
- ğŸŒ ç½‘ç«™ï¼š[https://blog.fis.ink](https://blog.fis.ink)

---

**é¡¹ç›®åç§°**: Decanterï¼ˆé†’é…’å™¨ï¼‰- å°±åƒé†’é…’å™¨è®©è‘¡è„é…’æ›´åŠ é¦™é†‡ï¼Œå¸Œæœ›è¿™ä¸ªé¡¹ç›®èƒ½è®©æ‚¨çš„åœ¨çº¿å½¢è±¡æ›´åŠ é—ªè€€ï¼
